@prefix : <http://example.org/term/> .
@prefix i: <http://example.org/inst/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rr:    <http://www.w3.org/ns/r2rml#> .


<#DistrictMapping>
  a rr:TriplesMap ;

  rr:logicalTable [
    rr:sqlQuery """
      SELECT * FROM "district";
  """] ;

  rr:subjectMap [
      a rr:SubjectMap, rr:TermMap;
      rr:template "district/{knr}" ;
      rr:class :District ;
      rr:termType rr:IRI
  ] ;

  rr:predicateObjectMap [
      a rr:PredicateObjectMap ;
      rr:predicate :name;
      rr:objectMap [
          a rr:ObjectMap, rr:TermMap ;
          rr:column "kname" ;
          rr:termType rr:Literal
      ]
  ] ;

  rr:predicateObjectMap [
      a rr:PredicateObjectMap ;
      rr:predicate :area;
      rr:objectMap [
          a rr:ObjectMap, rr:TermMap ;
          rr:column "fixed_geometry" ;
          rr:termType rr:Literal
      ]
  ] .


<#NeighbourhoodMapping>
  a rr:TriplesMap ;

  rr:logicalTable [
    rr:sqlQuery """
      SELECT * FROM "neighbourhood";
  """] ;

  rr:subjectMap [
      a rr:SubjectMap, rr:TermMap;
      rr:template "neighbourhood/{neighbourhoods}" ;
      rr:class :Neighbourhood ;
      rr:termType rr:IRI
  ] ;

  rr:predicateObjectMap [
      a rr:PredicateObjectMap ;
      rr:predicate :name;
      rr:objectMap [
          a rr:ObjectMap, rr:TermMap ;
          rr:column "neighbourhoods" ;
          rr:termType rr:Literal
      ]
  ] ;

  rr:predicateObjectMap [
      a rr:PredicateObjectMap ;
      rr:predicate :neighbourhoodIn;
      rr:objectMap [
          a rr:ObjectMap, rr:TermMap ;
          rr:template "district/{district}" ;
          rr:termType rr:IRI
      ]
  ] .


<#BusStopMapping>
  a rr:TriplesMap ;

  rr:logicalTable [
    rr:sqlQuery """
      SELECT * FROM "bus";
  """] ;

  rr:subjectMap [
      a rr:SubjectMap, rr:TermMap;
      rr:template "busstop/{NHSTID}" ;
      rr:class :BusStop ;
      rr:termType rr:IRI
  ] ;

  rr:predicateObjectMap [
      a rr:PredicateObjectMap ;
      rr:predicate :name;
      rr:objectMap [
          a rr:ObjectMap, rr:TermMap ;
          rr:column "CHSTNAME" ;
          rr:termType rr:Literal
      ]
  ] ;

  rr:predicateObjectMap [
      a rr:PredicateObjectMap ;
      rr:predicate :busStopType;
      rr:objectMap [
          a rr:ObjectMap, rr:TermMap ;
          rr:column "VTYP" ;
          rr:termType rr:Literal
      ]
  ] ;

  rr:predicateObjectMap [
      a rr:PredicateObjectMap ;
      rr:predicate :location;
      rr:objectMap [
          a rr:ObjectMap, rr:TermMap ;
          rr:column "fixed_geometry" ;
          rr:termType rr:Literal
      ]
  ] ;

  rr:predicateObjectMap [
      a rr:PredicateObjectMap ;
      rr:predicate :stopsIn;
      rr:objectMap [
          a rr:ObjectMap, rr:TermMap ;
          rr:template "district/{district_id}" ;
          rr:termType rr:IRI
      ]
  ] .
